    

# ============================
# 1. Исходные данные графа
# ============================
graph = {
    1: {2, 5},
    2: {1, 3, 6},
    3: {2, 4, 7},
    4: {3, 8, 17},
    5: {1, 6, 9},
    6: {2, 5, 7, 10},
    7: {3, 6, 8, 11},
    8: {7, 4, 12, 21},
    9: {5, 10, 13},
    10: {6, 9, 11, 14},
    11: {7, 10, 12, 15},
    12: {8, 11, 16, 25},
    13: {9, 14},
    14: {10, 13, 15},
    15: {11, 14, 16},
    16: {12, 15, 29},
    17: {4, 18, 21},
    18: {17, 19, 22},
    19: {18, 20, 23},
    20: {19, 24},
    21: {8, 17, 22, 25},
    22: {18, 21, 23, 26},
    23: {19, 22, 24, 27},
    24: {20, 23, 28},
    25: {12, 21, 26, 29},
    26: {22, 25, 27, 30},
    27: {23, 26, 28, 31},
    28: {24, 27, 32},
    29: {16, 25, 30},
    30: {26, 29, 31},
    31: {27, 30, 32},
    32: {28, 31}
}

# Множество вершин и рёбер для исключения
excluded_vertices = {1, 2, 3, 5, 6, 9, 13, 14, 15, 16, 26, 27, 28, 30, 31, 32}
# excluded_vertices = {1, 2, 5, 6, 9, 13, 14, 15, 16, 25, 26, 27, 28, 29, 30, 31, 32}
excluded_edges = {
    frozenset((4, 17)),  # дуга a
    frozenset((8, 21)),  # дуга b
    # frozenset((12, 25)),  # дуга c
    frozenset((16, 29))  # дуга d
}